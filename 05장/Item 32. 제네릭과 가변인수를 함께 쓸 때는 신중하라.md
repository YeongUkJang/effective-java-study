# 제네릭과 가변인수를 함께 쓸 때는 신중하라

### 가변인수
  - 가변인수는 메서드에 넘기는 인수의 개수를 클라이언트가 조절할 수 있게 해준다

### 가변인수와 제네릭
  - 가변인수 메서드와 제네릭은 자바 5 때 함께 추가되었지만 잘 어울리지 않는다
  - 그 이유는 가변인수 메서드를 호출하면 가변인수를 담기 위한 배열이 자동으로 하나 만들어지기 떄문이다
  - 실체화 불가 타입 : 거의 모든 제네릭과 매개변수화 타입은 실체화 불가 타입이다, 실체화 불가 타입은 런타임에는 컴파일 타임보다 정보를 적게 담고 있다
  - Heap Pollution (힙 오염) : 매개변수화 타입의 변수가 타입이 다른 객체를 참조하면 힙 오염이 발생한다. 이렇게 다른 타입 객체를 참조하는 상황에서는 컴파일러가 자동 생성환 형변환이 실패할 수 있으니, 제네릭 타입 시스템이 약속한 타입 안전성의 근간이 흔들려버린다

### @SafeVarags
  - 제네릭 가변인수 메서드 작성자가 클라이언트 측에서 발생하는 경고를 숨길 수 있게 되었다
  - 메서드 작성자가 그 메서드가 타입 안전함을 보장하는 장치다
  - 컴파일러는 이 약속을 믿고 그 메서드가 안전하지 않을 수 있다는 경고를 더 이상 하지 않는다

### 메서드가 타입 안전한 경우
  - varargs 매개변수 배열에 아무것도 저장하지 않는다
  - 그 배열(혹은 복제본)을 신뢰할 수 없는 코드에 노출하지 않는다
