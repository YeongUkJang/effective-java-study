#  스트림은 주의해서 사용하라

### 스트림
  - 데이터 처리 작업(순차 또는 병렬)을 지원하고자 Java8부터 추가
  - 데이터 원소의 유한 혹은 무한 시퀀스를 뜻하는 스트림
  - 원소들로 수행하는 연산 단계를 표현하는 스트림 파이프 라임
  - 스트림의 원소는 컬렉션, 배열, 파일, 정규표현식 패턴 매처, 난수 생성기 등 어디로부터든 원소들이 올 수 있음
  - 기본 타입으로는 int, long, double을 지원하며, 객체 참조도 원소가 될 수 있음
  - 스트림은 한번만 소비할 수 있다. 즉, 스트림의 연산 후 또 다른 연산을 하려고 하면 에러를 발생시킴

### 스트림 파이프라인
  - 소스 스트림에서 시작해 종단 연산으로 끝나며, 그 사이에 하나 이상의 중간 연산이 있을 수도 있다
  - 각 중간 연산은 스트림을 어떠한 방식으로 변환된다
  - 스트림 파이프라인의 또 다른 특징은 지연 평가(lazy evaluation)된다
    - 종단 연산에 쓰이지 않는 데이터 원소는 계산에 쓰이지 않고 종단 연산이 호출될때 평가가 된다는 의미
    - 즉, 종단 연산이 없으면 아무일도 하지 않는다는 것
  - fluent API
    - 메서드 연쇄를 지원한다
    - 즉, 파이프라인 하나를 구성해 모든 호출을 연결해 처리한다
    - 기본적으로 순차적으로 진행이 된다
    - 병렬로 실행하기 위해서는 parallel() 을 호출하면 된다
   
### 스트림 사용의 알맞는 상황
  - 원소들의 시퀀스를 일관되게 변환한다
  - 원소들의 시퀀스를 필터링한다
  - 원소들의 시퀀스를 하나의 연산을 사용해 결합한다
  - 원소들의 시퀀스를 컬렉션에 모은다
  - 원소들의 시퀀스에서 특정 조건을 만족하는 원소를 찾는다

### 스트림으로 처리가 어려운 것
  - 한 데이터가 파이프라인의 여러 단계를 통과할 때 이 데이터의 각 단계에서의 값들에 동시 접근하기 어렵다
  - 이유는 다른 값에 매핑하고 나면 원래의 값은 잃는 구조이기 때문이다
  - 원래 값과 새로운 값의 쌍을 저장하는 객체를 사용해 매핑하는 우회 방법도 있지만, 복잡하기 떄문에 사용하지 않는 경우가 좋다

### 결론
  - 스트림을 사용하면 깔끔해지지만, 잘못 사용하면 유지보수와 가독성을 잃을 수도 있다
  - 스트림을 과용하면 프로그램이 읽거나 유지보수하기 어려워진다
  - 기존 코드는 스트림을 사용하도록 리팩토링 하되, 새 코드가 더 나아 보일때만 반영하자
  - 스트림 vs 반복문 정답은 없으니, 더 나은쪽을 개발자입장에서 결정하면 된다
