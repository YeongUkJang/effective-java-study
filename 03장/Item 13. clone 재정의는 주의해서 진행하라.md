#  clone 재정의는 주의해서 진행하라

### clone 규약
- x.clone() != x 가 반드시 true.
- x.clone().getClass() == x.getClass() 가 반드시 true.
- x.clone().equals(x) 는 true가 아닐 수도 있다.

### clone 재정의 방법
1. 불변객체
  - Cloneable 인터페이스 구현 후,
  - clone() 메서드 재정의. (super.clone()을 사용할 것)
  
2. 가변객체
  - 가변 필드를 super.clone() 으로 복제해버리면, 값을 복제하는 것이 아니라 주소값을 복사하여 문제가 생길 수 있다.
  - clone 은 원본 객체에 아무런 영향을 끼치지 않는 동시에 복제된 객체의 불변식을 보장해야 한다.
  - clone() 에서 재귀적으로 가변 객체 참조 필드를 복사하면 된다.
  - 그런데 만약 가변 참조 필드가 final 이라면 새로운 값을 참조할 수 없으므로 위의 방식을 적용할 수 없다.
  - 가변 객체를 참조하는 필드는 final 로 선언하라 라는 용법과 충돌하게 된다.
  - 따라서 Cloneable 을 구현하면 final 을 없애야 하는 상황이 올 수 있다.
  - 이 경우 Deep Copy를 사용해 해결 할 수 있다.

### 결론
- 배열만이 clone() 을 재대로 사용하는 유일한 예이다.
- 복사하는 대상이 배열이 아니면 복사 생성자, 복사 팩터리를 사용하는 것이 더 좋다.
