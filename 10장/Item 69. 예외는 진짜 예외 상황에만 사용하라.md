# 예외는 진짜 예외 상황에만 사용하라

### 예외는 예외 상황에서만 사용하라
  - 예외를 제어 흐름에 사용할 경우 코드가 무엇을 하는지 알기 어렵고,
  - 성능에 큰 도움이 안되며,
  - 의도치 않은 오작동을 야기한다

### API 설계시 예외
  - 잘 설계된 API는 클라이언트가 정상적인 제어 흐름에서 예외를 사용할 일이 없게 해야 한다
  - 특히 특정 상태에서만 호출할 수 있는 메서드는 상태 검사 메서드를 함께 제공해야 한다

### 잘못된 예외 사용
  ```java
  try {
    int i = 0;
    while(true) range[i++].climb();
  } catch (ArrayIndexOutOfBoundsException e) {
  }
  ```
  ```java
  for(Mountain m : range) {
    m.climb();
  }
  ```
  - 첫번째 코드는 다음의 이유로 잘못 되었다
    1. 예외는 예외 상황에서 쓰이기 위해 만들어 졌기 때문에, jvm설계자가 성능적 측면을 고려하지 않았다
    2. try-catch 블럭 안에서는 jvm이 수행하는 최적화가 제한된다
    3. 앞서 본 예제에서의 중복 검사는 실제로 중복으로 수행되지 않는다. jvm이 최적화를 통해 없애기 때문이다
    4. 제대로 동작하지 않은 위험도 따른다
   
  - 두번째 코드와 같이 일반적인 관용구로 작성하면 훨씬 명확하다.
