# 옵셔널 반환은 신중히 하라

### 메서드가 특정 조건에서 값을 반환할 수 없을때
  - 자바 8 이전
    1. 예외를 던진다 -> 예외는 예외적인 상황에서만 사용해야 하며, 예외 생성시 스택 추적 전체를 캡처하기에 비용이 비싸다
    2. null 반환 -> 별도의 null처리를 해야함
  - 자바 8 이후
    - Optional 반환
      - Optional 은 null 이 아닌 T 타입 참조를 담거나, 혹은 아무것도 담지 않을 수 있다
      - Optional 은 원소를 최대 1개 가질 수 있는 불변 컬렉션이다
      - 옵셔널을 반환하는 메서드는 예외를 던지는 메서드보다 유연하고 사용하기 쉬우며, null을 반환하는 메서드보다 오류 가능성이 적다
      - Optional 은 다른방법과 달리 검사예외(checked exception)의 취지를 가지고 있다 (API 사용자에게 값을 받지 못했을때 취할 행동을 선택하게 할 수 있다)
      - 컬렉션, 스트림, 배열, 옵셔널 같은 컨테이너 타입은 옵셔널로 감싸면 안된다
      - 박싱된 기본타입을 담은 옵셔널을 반환하는 일은 없도록 한다
     
### 정리
  - 옵셔널은 결과가 없을 수 있으며, 클라이언트가 이상황을 특별하게 처리해야 한다면 옵셔널을 반환한다.
  - 옵셔널을 반환값 이외의 용도로 사용하지 말자.
  - 옵셔널은 한번 감싸는 행위 때문에 성능의 저하가 뒤따른다. 따라서 성능에 민감한 메서드라면 null 을 반환하거나 예외를 던지는 편이 나을 수 있다.
