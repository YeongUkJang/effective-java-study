# 과도한 동기화는 피하라

### 동기화
  - 여러 개의 쓰레드가 한 개의 리소스를 사용하려 할 때, 사용하려는 쓰레드를 제외한 나머지들이 접근하지 못하게 막는 것 (Thread-safe)
  - 멀티스레드 프로세스는 동시성 또는 병렬성으로 실행된다
    - 동시성 : 하나의 코어에서 여러개의 프로세스가 번갈아 가면서 실행됨
    - 병렬성 : 멀티 코어에서 개별 스레드를 동시에 실행
   
### 교착 상태
  - 한정된 자원을 여러 곳에서 사용할 때 발생할 수 있는 현상
  - 동기화(synchronized) 된 코드 블럭 안에서는 재정의 가능한 메서드를 호출해선 안된다
  - 클라이언트가 넘겨준 함수객체를 호출해서도 안된다
  - 이런 메서드는 동기화도니 클래스 관점에서 외계인 메서드라고 칭한다(무슨일을 할지 모르니, 이 메서드가 예외를 발생시키거나, 교착상태를 만들거나, 데이터를 훼손시킬 수 있다.)

### 동기화의 성능
  - 자바의 동기화 비용은 빠르게 낮아져 왔지만, 과도한 동기화를 피하는일은 오히려 과거 어느 때보다 중요하다
  - 멀티코어가 일반화된 오늘날 과도한 동기화가 초래하는 진짜 비용은 락을 얻는데 드는 CPU 시간이 아니다
  - 서로 스레드끼리 경쟁하는 Race Condition에 낭비가 발생한다
    - 병렬로 실행할 기회를 잃는다
    - 모든 코어가 메모리를 일관되게 보기위한 지연시간이 진짜 비용
    - 가상머신의 코드최적화를 제한하는 점도 숨은 비용
   
### 정리
  - 자바의 동기화 비용은 빠르게 낮아져 왔지만, 과도한 동기화를 피하는일은 오히려 과거 어느 때보다 중요하다
  - 멀티코어가 일반화된 오늘날 과도한 동기화가 초래하는 진짜 비용은 락을 얻는데 드는 CPU 시간이 아니다
  - 서로 스레드끼리 경쟁하는 Race Condition에 낭비가 발생한다
  - 병렬로 실행할 기회를 잃는다
  - 모든 코어가 메모리를 일관되게 보기위한 지연시간이 진짜 비용
  - 가상머신의 코드최적화를 제한하는 점도 숨은 비용
