# 가능한 한 실패 원자적으로 만들라

### 실패 원자적
  - 호출된 메소드가 실패하더라도 해당 객체는 메서드 호출 전 상태를 유지해야 한다는 특성

### 실패 원자적 특성을 가진 메서드를 만드는 방법
  - 불변 객체
  - 메서드가 실패하면 새로운 객체가 만들어 지지 않을 수 있으나, 기존 객체가 불안정한 상태에 빠질일은 없다. 왜냐하면 생성 시점에 고정되어 절대 변하지 않기 때문이다.
  - 가변객체의 경우 작업 수행에 앞서 매개변수를 검사하는 것 (객체 내부 상태가 변하기 전에 잠재적 예외 가능성을 걸러내는 것)

### 항상 실패 원자적으로 만들어야 하나
  - 최대한 만들어야 하지만, 항상 그런건 아니다
  - 이유는 실패 원자적으로 만들기 위해 비용이나 복잡도가 굉장히 높을 수 있기 때문이다
  - 아울러 문제를 파악하면 실패 원자성을 꽁짜로 얻을수 있는 경우가 있다
  - 그러나 메서드 명세에 기술한 예외라면 혹시 예외가 발생하더라도 객체의 상태는 메서드 호출 전과 똑같은 상태가 유지되어야 한다는 것이 기본 규칙이다. 혹시라도 이 규칙을 못지킨다면 API 문서에 명시해야 한다
  - 그러나 아쉽게도 이 부분이 잘 지켜지지 않는게 현실이다
