# 매개변수가 유효한지 검사하라

- 메서드와 생성자 대부분은 입력 매개변수 값이 특정 조건을 만족해야한다.

### 매개변수 검사를 제대로 하지 못했을 때
  - 메서드가 수행되는 중간에 모호한 예외를 던지며 실패할 수 있다.
  - 메서드가 잘 수행되지만 잘못된 결과를 반환할 수 있다.
  - 메서드는 문제없이 수행됐지만 실패 원자성이 깨지고 미래의 알 수 없는 시점에 해당 메서드와 관련없는 오류를 낼 수 있다. ⇒ 오류를 발생한 즉시 잡지 못하면 해당 오류를 감지하기 어렵다.

### 매개변수 유효성 검사
  - public, protect API의 경우 유효성 검사가 필요하다.
  - 생성자 매개변수 유효성 검사는 클래스 불변식을 어기는 객체가 만들어지지 않게 하기위해 꼭 필요하다.
  - 특히, List를 반환하는 등 메서드가 직접 사용하지는 않지만 나중에 쓰기 위해 저장하는 매개변수는 더 신경써서 검사해야한다.
  - 유효성 검사 비용이 지나치게 높거나, 메서드 계산 과정에서 암묵적으로 검사가 수행되는 경우 매개변수 유효성 검사를 하지 않을 수 있다. 하지만 실패 원자성에 주의해야한다!
  - private, package private 메서드는 assert를 이용해서 유효성 검사할 수 있다.
  - assert를 이용했을 때, 실패하면 AssertionError를 던지고 런타임에는 아무 효과도 성능 저하도 없다.

### 결론
  - 메서드나 생성자를 작성할 때면 그 매개변수들에 어떤 제약이 있을지 생각해야 한다
  - 제약들을 문서화하고 메서드 코드 시작부분에 명시적으로 검사해야 한다
